# üß≠ Redis Queue Inspector

A simple CLI tool to inspect **delayed Redis queue jobs** in Laravel. Useful for debugging, auditing, and gaining visibility into scheduled or stuck jobs.

## üì• Installation

Install the package via Composer:

```bash
composer require msouto/redis-queue-inspector --dev
```

Laravel will auto-discover the service provider, no manual registration needed.

## üöÄ Basic Usage

```bash
php artisan queue:inspect
```

This will inspect the first 50 delayed jobs in the `default` Redis queue.

## üîç Options

| Option            | Description                                                                 |
|-------------------|-----------------------------------------------------------------------------|
| `--queue=`        | Comma-separated list of queue names (default: `default`)                   |
| `--job=`          | Filter by partial job class name                                            |
| `--from=`         | Filter jobs scheduled **from** this date (`Y-m-d`)                          |
| `--to=`           | Filter jobs scheduled **up to** this date (`Y-m-d`)                         |
| `--limit=`        | Number of jobs per page (default: `50`)                                     |
| `--page=`         | Page number for pagination (default: `1`)                                   |
| `--count`         | Only return the total number of matching jobs                               |
| `--identifier=`   | Filter jobs that reference this model ID in the payload                     |
| `--uuid=`         | Filter by exact job UUID (as generated by Laravel when dispatching)         |

## ‚úÖ Examples

### Show all delayed jobs in the default queue
```bash
php artisan queue:inspect
```

### Show jobs in the `emails` queue that contain "SendWelcome" in the class name
```bash
php artisan queue:inspect --queue=emails --job=SendWelcome
```

### View jobs scheduled from a specific date
```bash
php artisan queue:inspect --from=2025-06-01
```

### Search jobs that reference a model ID in the payload
```bash
php artisan queue:inspect --identifier=47004
```

### Look up a job by UUID
```bash
php artisan queue:inspect --uuid=123e4567-e89b-12d3-a456-426614174000
```

### Only return a count of matching jobs
```bash
php artisan queue:inspect --job=SendInvoice --count
```

## üìå Output Example

```
Showing 10 jobs (page 1) of 47 matching jobs.
+---------+--------------------------+--------------------------------------+---------------------+
| Queue   | Job Name                 | Job ID                               | Release At          |
+---------+--------------------------+--------------------------------------+---------------------+
| default | App\Jobs\SendWelcome     | 123e4567-e89b-12d3-a456-426614174000 | 2025-06-12 21:58:54 |
+---------+--------------------------+--------------------------------------+---------------------+
Tip: Run with --page=2 to see more.
```

## üõ† Requirements

- Laravel 9 or 10
- Redis queue driver (`QUEUE_CONNECTION=redis`)
- PHP 8.1+

## üìÑ License

MIT License

## üë§ Author

**M√°rio Souto**  
[mario.cs1@gmail.com](mailto:mario.cs1@gmail.com)
